# .env.example
# Environment variables template for Diabetic Retinopathy Classification Project
#
# Copy this file to .env and fill in your actual values:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
# The .gitignore file should already exclude .env

# ============================================
# Weights & Biases (W&B) Configuration
# ============================================
# Get your API key from: https://wandb.ai/settings
# Required if you want to use W&B for experiment tracking

WANDB_API_KEY=your_wandb_api_key_here

# W&B Project name (will be created if doesn't exist)
WANDB_PROJECT=dr-retfound-vastai

# W&B Entity (username or team name)
# Leave empty to use your default entity
WANDB_ENTITY=

# W&B Mode: online, offline, or disabled
# - online: Sync to W&B cloud in real-time (default)
# - offline: Save logs locally, sync later with 'wandb sync'
# - disabled: Don't log to W&B at all
WANDB_MODE=online

# ============================================
# Kaggle API Configuration
# ============================================
# Required for downloading datasets from Kaggle
# Get your credentials from: https://www.kaggle.com/settings
# Download kaggle.json and extract username and key

KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_key

# ============================================
# Vast.ai Configuration (Optional)
# ============================================
# SSH keys and connection details for Vast.ai instances

# Vast.ai SSH private key path (for automated deployment)
VAST_SSH_KEY_PATH=~/.ssh/id_rsa

# Vast.ai instance IP (will change per instance)
VAST_INSTANCE_IP=

# Vast.ai SSH port (usually 22 or random port)
VAST_SSH_PORT=22

# ============================================
# Docker Hub Configuration
# ============================================
# Required for pushing Docker images

DOCKER_USERNAME=your_dockerhub_username
DOCKER_PASSWORD=your_dockerhub_password_or_token

# Docker image name
DOCKER_IMAGE_NAME=dr-retfound-lora

# Docker image tag
DOCKER_IMAGE_TAG=latest

# ============================================
# Training Configuration Overrides
# ============================================
# Override default config values via environment variables
# These are optional - configs can also be set in YAML files

# Batch size (default: 64 for RTX 5090, 32 for RTX 3090/4090)
# BATCH_SIZE=64

# Number of training epochs
# NUM_EPOCHS=20

# Learning rate
# LEARNING_RATE=0.0005

# LoRA rank (r=4, 8, 16, 32)
# LORA_R=16

# LoRA alpha
# LORA_ALPHA=64

# Random seed for reproducibility
# SEED=42

# ============================================
# Data Paths (for local development)
# ============================================
# These are used for local training, not Vast.ai
# On Vast.ai, data is mounted at /data, /models, /results

# DATA_DIR=./data
# MODELS_DIR=./models
# RESULTS_DIR=./results

# ============================================
# GPU Configuration
# ============================================
# CUDA device selection (default: cuda:0)
# CUDA_VISIBLE_DEVICES=0

# cuDNN settings
# CUDNN_BENCHMARK=1
# CUDNN_DETERMINISTIC=0

# ============================================
# Logging Configuration
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable TensorBoard logging
TENSORBOARD_ENABLED=true

# ============================================
# Development Settings
# ============================================
# Debug mode (enables more verbose logging)
DEBUG=false

# Testing mode (uses smaller dataset, fewer epochs)
TEST_MODE=false

# ============================================
# Notifications (Optional)
# ============================================
# Slack webhook for training completion notifications
# SLACK_WEBHOOK_URL=

# Discord webhook for notifications
# DISCORD_WEBHOOK_URL=

# Email settings for notifications
# EMAIL_SMTP_SERVER=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USERNAME=
# EMAIL_PASSWORD=
# EMAIL_TO=

# ============================================
# Notes
# ============================================
# 1. This file contains sensitive information - never commit to git
# 2. Use strong, unique API keys and tokens
# 3. Rotate credentials regularly
# 4. For production, consider using secret management tools:
#    - Docker secrets
#    - Kubernetes secrets
#    - AWS Secrets Manager
#    - HashiCorp Vault
# 5. On Vast.ai, you can set environment variables in the instance settings
# 6. Most settings can be overridden via command line arguments

# ============================================
# Quick Setup Guide
# ============================================
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Fill in required values:
#    - WANDB_API_KEY (if using W&B)
#    - KAGGLE_USERNAME and KAGGLE_KEY (for dataset download)
#    - DOCKER_USERNAME (for pushing Docker images)
#
# 3. Load environment variables:
#    source .env  # or use direnv, dotenv, etc.
#
# 4. Verify:
#    echo $WANDB_API_KEY
#
# 5. Use in scripts:
#    bash scripts/vast_train.sh --wandb
